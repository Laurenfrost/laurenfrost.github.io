---
title: 论文阅读：Towards Transparent CPU Scheduling
date: 2020-08-18 17:31:35
tags: 论文
category: 操作系统
---

最近在看 [OSTEP](http://pages.cs.wisc.edu/~remzi/OSTEP/)，作者在进程调度部分推荐了该论文：

*Joseph T. Meehean*, [Towards Transparent CPU Scheduling](http://www.cs.wisc.edu/adsl/Publications/meehean-thesis11.pdf), UNIVERSITY OF WISCONSIN–MADISON, 2011  

---

本文提出用科学的方法对CPU调度器有更深入的了解; 我们使用这种方法来解释和理解CPU调度器有时不稳定的行为。这种方法首先将受控的工作负载引入商品操作系统，并观察CPU调度器的行为。通过这些观察，我们能够推断底层CPU调度策略，并创建预测调度行为的模型。

在将科学分析应用于CPU调度器方面，我们已经取得了两项进展。首先，CPU的未来将是嵌入到CPU调度器和用户空间控制器中的预测调度模型的组合，后者使用来自这些模型的反馈来指导应用程序。我们基于两种不同的调度范例(分时和比例-份额)，为两种不同的Linux调度器(CFS和O(1))开发了这些预测模型。通过三个不同的案例研究，我们演示了应用程序可以使用我们的预测模型将来自低重要性应用程序的干扰减少70%以上，将web服务器的供应不足减少一个数量级，并执行与CPU调度器相矛盾的调度策略。

我们的第二个贡献是Harmony。这是一个框架和一组实验，用于从普通操作系统中提取多处理器调度策略。我们使用这个工具提取和分析三个Linux调度器的策略:O(1)、CFS和BFS。这些调度器通常执行截然不同的策略。从高层次的角度来看，O(1)调度器谨慎地选择要迁移的进程和强值处理器亲缘性（原文：strongly values processor affinity）。相反，CFS则不断地寻找更好的平衡，最终选择了随机迁移进程。而BFS则非常看重公平性，经常忽略处理器关联性。

---

## 导论

> *把自己渴望的东西托付给漫不经心的希望，用至高无上的理由把自己不渴望的东西推到一边，这是人类的习惯。*   
> ————*修西得底斯*  

目前，应用程序、开发人员和系统研究人员都将最佳工作CPU调度器视为可靠的黑箱。依赖这些调度器来提供底层但至关重要的服务。在过去的几十年里，处理器快速增长的性能支持了这种依赖和映像。

单处理器速度不断增长的结束意味着这些假设应该重新考虑。如果对中等负载下的CPU调度器进行更仔细的检查，就会发现它们可以提供反复无常的服务，并实现与依赖于它们的应用程序冲突的资源争用策略。这种看似不稳定的行为对应用程序的可感知可靠性有可怕的后果;它会导致缓慢的响应时间，病态的行为，甚至应用程序失败。

在这项工作中，我们建议采取科学的方法来理解CPU调度程序;我们开始通过收集观察、生成假设和生成预测模型来揭开CPU调度器的神秘面纱。例如，对CPU调度的进一步研究表明，它有时不稳定的行为并不是不可预测的，而只是几个善意策略的不幸组合结果。这种方法产生的观察结果和预测模型使CPU调度对应用程序更加透明(并且可由应用程序控制)，并使esearchers能够改进或细化调度策略。

本文讨论了我们在科学分析CPU调度方面所做的两个改进。在第一个“CPU Futures”中，我们创建并演示嵌入到CPU调度器中的预测模型的价值。应用程序使用这些预测模型来主动引导两个当代的Linux CPU调度程序实现它们所期望的调度策略。在第二部分，我们实现了一个多处理器CPU调度观察的收集框架。然后，我们使用这个名为Harmony的框架从三个Linux CPU调度器(O(1)、CFS和BFS)提取CPU调度策略。

本章对驱动这些理论的思想进行了高层次的概述。第一部分讨论CPU调度日益增加的重要性。下一节将介绍黑箱CPU调度造成的困难。在本节之后，将使用科学的方法进行更广泛的讨论，以提高CPU调度器的透明度。最后，我们对本文的结构进行了概述。

### CPU 调度的重要性


